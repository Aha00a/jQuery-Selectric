/*! SelEctric ÏŸ v1.4.11 - http://lcdsantos.github.io/jQuery-Selectric/ | Copyright (c) 2013 Leonardo Santos | Dual licensed: MIT/GPL */
(function(g,L){function p(c,d){this.element=c;this.options=g.extend(n,d);n.disableOnMobile&&!/android|ip(hone|od|ad)/i.test(navigator.userAgent)&&this.init(n)}var d="selectric",q=function(){},n={onOpen:q,onClose:q,maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#9662;</b>',disableOnMobile:!0,margin:5,border:1};p.prototype.init=function(c){function G(){v.empty();var a=f.find("option"),b="",c=a.filter(":"+r).index();k=0>c?0:c;if(w=a.length)a.each(function(a){var c=g(this),e=a==k?r:"",d=c.text(),f=s,M=a,c=c.val(),h=d,l,m="40-46 50-53 54-57 62-70 71-74 61 47 77".replace(/\d+/g,"\\3$&").split(" ");for(l in m)h=h.toLowerCase().replace(RegExp("["+m[l]+"]","g"),"aeiouncy".charAt(l));f[M]={value:c,text:d,slug:h};++a==w&&(e+=" last");b+='<li class="'+e+'">'+d+"</li>"}),v.append(b),B.text(s[k].text);h.unbind(l);f.unbind(H+" focusin");m.prop("class",N+" "+f.prop("class")+" "+I);f.prop("disabled")||(m.removeClass(I).hover(function(){g(this).toggleClass(d+"Hover")}),h.bind(J,function(a){t?x(a):C(a)}),f.bind(H,n).bind("focusin"+l,function(a){t||C(a)}),v=e.removeAttr("style").find("ul"),y=v.find("li").click(function(){z(g(this).index(),!0);return!1}))}function n(a){a.preventDefault();var b=a.keyCode||a.which;/^(9|13|27)$/.test(b)&&(a.stopPropagation(),z(k,!0));clearTimeout(K);if(37>b||40<b){var e=RegExp("^"+(A+=String.fromCharCode(b)),"i");g.each(s,function(a,b){(e.test(b.slug)||e.test(b.text))&&z(a)});K=setTimeout(function(){A=""},c.keySearchTimeout)}else A="",z(/^(39|40)$/.test(b)?(k+1)%w:(0<k?k:w)-1)}function C(a){a.preventDefault();a.stopPropagation();g("."+D+" select")[d]("close");t=!0;p();var b=u.scrollTop();"click"==a.type&&f.focus();u.scrollTop(b);E.bind(J,x);m.addClass(D);q(k);c.onOpen.call(this)}function p(){if(t){var a=e.show().css("top","").offset().top,b=e.height(),d=h.offset().top;if(a+b>E.height()||m.offset().top+b>u.scrollTop()+u.height())e.css("top",-b),0>a-b&&d<c.maxHeight&&e.height(d-c.margin);F()}}function x(){var a=s[k].text;e.hide();f.blur();a!=B.text()&&f.change();B.text(a);m.removeClass(D);t=!1;E.unbind(l);c.onClose.call(f)}function z(a,b){f.prop("value",s[k=a].value).find("option").eq(a).prop(r,!0);y.removeClass(r).eq(a).addClass(r);q(a);b&&x()}function q(a){var b=y.eq(a).outerHeight();a=y[a].offsetTop;var c=e.scrollTop(),d=e.height(),f=a+2*b;f>c+d?e.scrollTop(f-d):a-b<c&&e.scrollTop(a-b)}function F(){var a=e.closest(":visible").children(),b=d+"TempShow",f=c.maxHeight;a.addClass(b);e.height()>f&&e.height(f);e.width(h.outerWidth()-2*c.border);a.removeClass(b)}var h=g('<div class="'+d+'"><p class="label"/>'+c.arrowButtonMarkup+"</div>"),f=g(this.element),m=f.data(d,this).wrap("<div/>").parent().append(h),s=[],t=!1,B=h.find(".label"),e=g('<div class="'+d+'Items"><ul/></div>').appendTo(m),v=e.find("ul"),y,l=".sl",E=g(document),u=g(L),H="keydown"+l,J="click"+l,A="",K,D=d+"Open",N=d+"Wrapper",I=d+"Disabled",r="selected",k=0,w;f.wrap('<div class="'+d+'HideSelect"/>');G();u.scroll(p);F();f.bind({refresh:function(){G();F()},destroy:function(){e.remove();h.remove();f.removeData(d).unbind(l+" refresh destroy open close").unwrap().unwrap()},open:C,close:x})};g.fn[d]=function(c,n){return this.each(function(){g.data(this,d)?""+c===c&&g(this).trigger(c):new p(this,c||n)})}})(jQuery,window);