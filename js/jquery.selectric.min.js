/*! Selectric ÏŸ v1.4.13 - git.io/tjl9sQ - Copyright (c) 2013 Leonardo Santos - Dual licensed: MIT/GPL */
(function(c){function p(b,f){this.element=b;this.options=c.extend(q,f);q.disableOnMobile&&!/android|ip(hone|od|ad)/i.test(navigator.userAgent)&&this.init(q)}var b="selectric",r=function(){},q={onOpen:r,onClose:r,maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#9662;</b>',disableOnMobile:!0,border:1};p.prototype.init=function(g){function f(){w.empty();var a=c("option",d),D="",k=a.filter(":"+s).index(),I=e.closest(":visible").children().not(":visible"),t=b+"TempShow",f=g.maxHeight;h=0>k?0:k;if(x=a.length)a.each(function(a){var b=c(this),d=(a==h?s:"")+(a==x-1?" last":""),e=b.text(),g=u,b=b.val(),f=e,k=void 0,t=void 0;for(k in t="40-46 50-53 54-57 62-70 71-74 61 47 77".replace(/\d+/g,"\\3$&").split(" "))f=f.toLowerCase().replace(RegExp("["+t[k]+"]","g"),"aeiouncy".charAt(k));g[a]={value:b,text:e,slug:f};D+='<li class="'+d+'">'+e+"</li>"}),w.append(D),E.text(u[h].text);l.add(d).off(m);n.prop("class",b+"Wrapper "+d.prop("class")+" "+J);d.prop("disabled")||(n.removeClass(J).hover(function(){c(this).toggleClass(b+"Hover")}),l.on(K,function(a){v?y(a):F(a)}),d.on(N,q).on("focusin"+m,function(a){v||F(a)}),w=e.removeAttr("style").find("ul"),z=c("li",w).click(function(){A(c(this).index(),!0);return!1}));I.addClass(t);e.width(l.outerWidth()-2*g.border).height()>f&&e.height(f);I.removeClass(t)}function q(a){a.preventDefault();var b=a.keyCode||a.which;/^(9|13|27)$/.test(b)&&(a.stopPropagation(),A(h,!0));clearTimeout(L);if(37>b||40<b){var e=RegExp("^"+(B+=String.fromCharCode(b)),"i");c.each(u,function(a,b){e.test([b.slug,b.text])&&A(a)});L=setTimeout(function(){B=""},g.keySearchTimeout)}else B="",A(/^(39|40)$/.test(b)?(h+1)%x:(0<h?h:x)-1)}function F(a){a.preventDefault();a.stopPropagation();c("."+G+" select")[b]("close");v=!0;H=e.show().height();p();var f=C.scrollTop();"click"==a.type&&d.focus();C.scrollTop(f);M.on(K,y);n.addClass(G);r(h);g.onOpen.call(this)}function p(){v&&(e.css("top",n.offset().top+n.outerHeight()+H>C.scrollTop()+C.height()?-H:""),setTimeout(p,100))}function y(){var a=u[h].text;e.hide();d.blur();a!=E.text()&&d.change();E.text(a);n.removeClass(G);v=!1;M.off(m);g.onClose.call(d)}function A(a,b){d.prop("value",u[h=a].value).find("option").eq(a).prop(s,!0);z.removeClass(s).eq(a).addClass(s);r(a);b&&y()}function r(a){var b=z.eq(a).outerHeight();a=z[a].offsetTop;var c=e.scrollTop(),d=e.height(),f=a+2*b;e.scrollTop(f>c+d?f-d:a-b<c?a-b:c)}var l=c('<div class="'+b+'"><p class="label"/>'+g.arrowButtonMarkup+"</div>"),d=c(this.element),e=c('<div class="'+b+'Items"><ul/></div>'),n=d.data(b,this).wrap("<div>").parent().append(l).append(e),u=[],v=!1,E=c(".label",l),w=c("ul",e),z,m=".sl",M=c(document),C=c(window),N="keydown"+m,K="click"+m,B="",L,G=b+"Open",J=b+"Disabled",s="selected",h=0,x,H;d.wrap('<div class="'+b+'HideSelect">');f();d.on({refresh:f,destroy:function(){e.remove();l.remove();d.removeData(b).off(m+" refresh destroy open close").unwrap().unwrap()},open:F,close:y})};c.fn[b]=function(g,f){return this.each(function(){c.data(this,b)?""+g===g&&c(this).trigger(g):new p(this,g||f)})}})(jQuery);