/*! Selectric ÏŸ v1.4.14 - git.io/tjl9sQ - Copyright (c) 2013 Leonardo Santos - Dual licensed: MIT/GPL */
(function(c){function h(b,e){this.element=b;this.options=c.extend(k,e);k.disableOnMobile&&!/android|ip(hone|od|ad)/i.test(navigator.userAgent)&&this.init(k)}var b="selectric",q=function(){},k={onOpen:q,onClose:q,maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#9662;</b>',disableOnMobile:!0,border:1};h.prototype.init=function(g){function e(){var a=c("option",d),A="",e=f.closest(":visible").children().not(":visible"),h=g.maxHeight,u;l=a.filter(":"+r).index();if(u=a.length)a.each(function(a,b){var d=c(b).text(),f=s,g=c(b).val(),e=d,h,k="40-46 50-53 54-57 62-70 71-74 61 47 77".replace(/\d+/g,"\\3$&").split(" ");for(h in k)e=e.toLowerCase().replace(RegExp("["+k[h]+"]","g"),"aeiouncy".charAt(h));f[a]={value:g,text:d,slug:e};A+='<li class="'+(a==l?r:"")+(a==u-1?" last":"")+'">'+d+"</li>"}),J.empty().append(A),B.text(s[l].text);m.add(d).off(n);p.prop("class",b+"Wrapper "+d.prop("class")+" "+E);d.prop("disabled")||(p.removeClass(E).hover(function(){c(this).toggleClass(b+"Hover")}),m.on(F,function(a){t?v(a):k(a)}),d.on(K,function(a){a.preventDefault();var b=a.keyCode||a.which;/^(9|13|27)$/.test(b)&&(a.stopPropagation(),w(l,!0));clearTimeout(G);if(37>b||40<b){var d=RegExp("^"+(x+=String.fromCharCode(b)),"i");c.each(s,function(a,b){d.test([b.slug,b.text])&&w(a)});G=setTimeout(function(){x=""},g.keySearchTimeout)}else x="",w(/^(39|40)$/.test(b)?(l+1)%u:(0<l?l:u)-1)}).on("focusin"+n,function(a){t||k(a)}),y=c("li",f.removeAttr("style")).click(function(){w(c(this).index(),!0);return!1}));e.addClass(H);f.width(m.outerWidth()-2*g.border).height()>h&&f.height(h);e.removeClass(H)}function k(a){a.preventDefault();a.stopPropagation();c("."+C+" select")[b]("close");t=!0;D=f.show().height();h();var e=z.scrollTop();"click"==a.type&&d.focus();z.scrollTop(e);I.on(F,v);p.addClass(C);q(l);g.onOpen.call(this)}function h(){t&&(f.css("top",p.offset().top+p.outerHeight()+D>z.scrollTop()+z.height()?-D:""),setTimeout(h,100))}function v(){var a=s[l].text;f.hide();a!=B.text()&&d.change();B.text(a);p.removeClass(C);t=!1;I.off(n);g.onClose.call(d.blur())}function w(a,b){d.prop("value",s[l=a].value).find("option").eq(a).prop(r,!0);y.removeClass(r).eq(a).addClass(r);q(a);b&&v()}function q(a){var b=y.eq(a).outerHeight();a=y[a].offsetTop;var c=f.scrollTop(),d=f.height(),e=a+2*b;f.scrollTop(e>c+d?e-d:a-b<c?a-b:c)}var d=c(this.element),m=c('<div class="'+b+'"><p class="label"/>'+g.arrowButtonMarkup+"</div>"),f=c('<div class="'+b+'Items"><ul/></div>'),p=d.data(b,this).wrap("<div>").parent().append(m).append(f),s=[],t=!1,B=c(".label",m),J=c("ul",f),y,n=".sl",I=c(document),z=c(window),K="keydown"+n,F="click"+n,x="",G,C=b+"Open",E=b+"Disabled",H=b+"TempShow",r="selected",l,D;d.wrap('<div class="'+b+'HideSelect">');e();d.on({refresh:e,destroy:function(){f.remove();m.remove();d.removeData(b).off(n+" refresh destroy open close").unwrap().unwrap()},open:k,close:v})};c.fn[b]=function(g,e){return this.each(function(){c.data(this,b)?""+g===g&&c(this).trigger(g):new h(this,g||e)})}})(jQuery);