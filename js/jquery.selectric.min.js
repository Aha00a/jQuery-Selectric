/*! Selectric ÏŸ v1.4.12 - http://lcdsantos.github.io/jQuery-Selectric/ | Copyright (c) 2013 Leonardo Santos | Dual licensed: MIT/GPL */
(function(c){function p(d,f){this.element=d;this.options=c.extend(m,f);m.disableOnMobile&&!/android|ip(hone|od|ad)/i.test(navigator.userAgent)&&this.init(m)}var f="selectric",q=function(){},m={onOpen:q,onClose:q,maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#9662;</b>',disableOnMobile:!0,margin:5,border:1};p.prototype.init=function(d){function G(){v.empty();var a=c("option",g),b="",d=a.filter(":"+r).index();k=0>d?0:d;if(w=a.length)a.each(function(a){var d=c(this),f=(a==k?r:"")+(a==w-1?" last":""),e=d.text(),g=s,d=d.val(),B=e,h=void 0,l=void 0;for(h in l="40-46 50-53 54-57 62-70 71-74 61 47 77".replace(/\d+/g,"\\3$&").split(" "))B=B.toLowerCase().replace(RegExp("["+l[h]+"]","g"),"aeiouncy".charAt(h));g[a]={value:d,text:e,slug:B};b+='<li class="'+f+'">'+e+"</li>"}),v.append(b),C.text(s[k].text);h.off(l);g.off(H+" focusin");n.prop("class",M+" "+g.prop("class")+" "+I);g.prop("disabled")||(n.removeClass(I).hover(function(){c(this).toggleClass(f+"Hover")}),h.on(J,function(a){t?x(a):D(a)}),g.on(H,m).on("focusin"+l,function(a){t||D(a)}),v=e.removeAttr("style").find("ul"),y=c("li",v).click(function(){z(c(this).index(),!0);return!1}));K()}function m(a){a.preventDefault();var b=a.keyCode||a.which;/^(9|13|27)$/.test(b)&&(a.stopPropagation(),z(k,!0));clearTimeout(L);if(37>b||40<b){var e=RegExp("^"+(A+=String.fromCharCode(b)),"i");c.each(s,function(a,b){e.test([b.slug,b.text])&&z(a)});L=setTimeout(function(){A=""},d.keySearchTimeout)}else A="",z(/^(39|40)$/.test(b)?(k+1)%w:(0<k?k:w)-1)}function D(a){a.preventDefault();a.stopPropagation();c("."+E+" select")[f]("close");t=!0;p();var b=u.scrollTop();"click"==a.type&&g.focus();u.scrollTop(b);F.on(J,x);n.addClass(E);q(k);d.onOpen.call(this)}function p(){if(t){var a=e.show().css("top","").offset().top,b=e.height(),c=h.offset().top;if(a+b>F.height()||n.offset().top+b>u.scrollTop()+u.height())e.css("top",-b),0>a-b&&c<d.maxHeight&&e.height(c-d.margin);K()}}function x(){var a=s[k].text;e.hide();g.blur();a!=C.text()&&g.change();C.text(a);n.removeClass(E);t=!1;F.off(l);d.onClose.call(g)}function z(a,b){g.prop("value",s[k=a].value).find("option").eq(a).prop(r,!0);y.removeClass(r).eq(a).addClass(r);q(a);b&&x()}function q(a){var b=y.eq(a).outerHeight();a=y[a].offsetTop;var d=e.scrollTop(),c=e.height(),f=a+2*b;e.scrollTop(f>d+c?f-c:a-b<d?a-b:d)}function K(){var a=e.closest(":visible").children().not(":visible"),b=f+"TempShow",c=d.maxHeight;a.addClass(b);e.height()>c&&e.height(c);e.width(h.outerWidth()-2*d.border);a.removeClass(b)}var h=c('<div class="'+f+'"><p class="label"/>'+d.arrowButtonMarkup+"</div>"),g=c(this.element),n=g.data(f,this).wrap("<div/>").parent().append(h),s=[],t=!1,C=c(".label",h),e=c('<div class="'+f+'Items"><ul/></div>').appendTo(n),v=c("ul",e),y,l=".sl",F=c(document),u=c(window),H="keydown"+l,J="click"+l,A="",L,E=f+"Open",M=f+"Wrapper",I=f+"Disabled",r="selected",k=0,w;g.wrap('<div class="'+f+'HideSelect"/>');G();u.scroll(p);g.on({refresh:G,destroy:function(){e.remove();h.remove();g.removeData(f).off(l+" refresh destroy open close").unwrap().unwrap()},open:D,close:x})};c.fn[f]=function(d,m){return this.each(function(){c.data(this,f)?""+d===d&&c(this).trigger(d):new p(this,d||m)})}})(jQuery);