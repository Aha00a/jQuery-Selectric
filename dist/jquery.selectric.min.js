/*! Selectric ÏŸ v1.7.3 (2014-08-25) - git.io/tjl9sQ - Copyright (c) 2014 Leonardo Santos - Dual licensed: MIT/GPL */
!function(e){"use strict";var t="selectric",o="Input Items Open Disabled TempShow HideSelect Wrapper Hover Responsive Above",s=".sl",i={onOpen:e.noop,onClose:e.noop,onRefresh:e.noop,onChange:function(t){e(t).change()},maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#x25be;</b>',disableOnMobile:!0,openOnHover:!1,expandToItemText:!1,responsive:!1,preventWindowScroll:!0,inheritOriginalWidth:!1,customClass:{prefix:t,postfixes:o,camelCase:!0},optionsItemBuilder:"{text}"},n={replaceDiacritics:function(e){for(var t="40-46 50-53 54-57 62-70 71-74 61 47 77".replace(/\d+/g,"\\3$&").split(" "),o=t.length;o--;)e=e.toLowerCase().replace(RegExp("["+t[o]+"]","g"),"aeiouncy".charAt(o));return e},format:function(e){var t=arguments;return(""+e).replace(/{(\d+|(\w+))}/g,function(e,o,s){return s&&t[1]?t[1][s]:t[o]})},nextEnabledItem:function(e,t){for(;e[t=(t+1)%e.length].disabled;);return t},previousEnabledItem:function(e,t){for(;e[t=(t>0?t:e.length)-1].disabled;);return t}},a=e(document),l=e(window),r=function(r,c){function p(t){if(R.options=e.extend(!0,{},i,R.options,t),R.classes={},R.options.disableOnMobile&&j)return void(R.disableOnMobile=!0);x(!0);var s=R.options.customClass,n=s.postfixes.split(" "),a=B.width();e.each(o.split(" "),function(e,t){var o=s.prefix+n[e];R.classes[t.toLowerCase()]=s.camelCase?o:o.replace(/([A-Z])/g,"-$&").toLowerCase()}),C=e('<input class="'+R.classes.input+'"/>').prop("readonly",j),T=e('<div class="'+R.classes.items+'" tabindex="-1"></div>'),D=e('<div class="'+s.prefix+'">'+R.options.arrowButtonMarkup+"</div>"),O=e('<p class="label"/>'),k=B.wrap("<div>").parent().append(D.prepend(O),T,C),A={open:v,close:g,destroy:x,refresh:u,init:p},B.on(A).wrap('<div class="'+R.classes.hideselect+'">'),e.extend(R,A),R.options.inheritOriginalWidth&&a>0&&k.width(a),$=!0,d()}function d(){R.items=[];var o=B.children(),i="<ul>",a=o.filter(":selected").index();I=H=~a?a:0,(E=o.length)&&(o.each(function(t){var o=e(this),s=o.html(),a=o.prop("disabled"),l=R.options.optionsItemBuilder;R.items[t]={value:o.val(),text:s,slug:n.replaceDiacritics(s),disabled:a},i+=n.format('<li class="{1}">{2}</li>',e.trim([t==I?"selected":"",t==E-1?"last":"",a?"disabled":""].join(" ")),e.isFunction(l)?l(R.items[t],o,t):n.format(l,R.items[t]))}),T.html(i+"</ul>"),O.html(R.items[I].text)),D.add(B).off(s),k.prop("class",[R.classes.disabled,R.classes.wrapper,B.prop("class").replace(/\S+/g,t+"-$&"),R.options.responsive?R.classes.responsive:""].join(" ")),B.prop("disabled")?C.prop("disabled",!0):(k.removeClass(R.classes.disabled).hover(function(){e(this).toggleClass(R.classes.hover)}),R.options.openOnHover&&D.on("mouseenter"+s,v),D.on("click"+s,function(e){Y?g():v(e)}),C.prop("disabled",!1).off().on({keypress:h,keydown:function(e){h(e),clearTimeout(R.resetStr),R.resetStr=setTimeout(function(){C.val("")},R.options.keySearchTimeout);var t=e.keyCode||e.which;t>36&&41>t&&w(n[(39>t?"previous":"next")+"EnabledItem"](R.items,H))},focusin:function(e){C.one("blur",function(){C.blur()}),Y||v(e)}}).on("oninput"in C[0]?"input":"keyup",function(){C.val().length&&e.each(R.items,function(e,t){return RegExp("^"+C.val(),"i").test(t.slug)&&!t.disabled?(w(e),!1):void 0})}),y=e("li",T.removeAttr("style")).click(function(){return w(e(this).index(),!0),!1}))}function u(){R.options.onRefresh(r),d()}function h(e){var t=e.keyCode||e.which;13==t&&e.preventDefault(),/^(9|13|27)$/.test(t)&&(e.stopPropagation(),w(H,!0))}function f(){var e=T.closest(":visible").children(":hidden"),t=R.options.maxHeight;e.addClass(R.classes.tempshow);var o=T.outerWidth(),s=D.outerWidth()-(o-T.width());!R.options.expandToItemText||s>o?W=s:(T.css("overflow","scroll"),k.width(9e4),W=T.width(),T.css("overflow",""),k.width("")),T.width(W).height()>t&&T.height(t),e.removeClass(R.classes.tempshow)}function v(t){t&&(t.preventDefault(),t.stopPropagation()),$&&(f(),e("."+R.classes.open).removeClass(R.classes.open),Y=!0,S=T.outerHeight(),M=T.height(),C.val("").is(":focus")||C.focus(),a.on("click"+s,g).on("scroll"+s,m),m(),R.options.preventWindowScroll&&a.on("mousewheel"+s+" DOMMouseScroll"+s,"."+R.classes.items,function(e){var t=e.originalEvent,o=T.scrollTop(),s=0;"detail"in t&&(s=-1*t.detail),"wheelDelta"in t&&(s=t.wheelDelta),"wheelDeltaY"in t&&(s=t.wheelDeltaY),"deltaY"in t&&(s=-1*t.deltaY),(o==this.scrollHeight-M&&0>s||0==o&&s>0)&&e.preventDefault()}),R.options.openOnHover&&(clearTimeout(R.closeTimer),k.one("mouseleave"+s,function(){R.closeTimer=setTimeout(g,500)})),k.addClass(R.classes.open),b(H),R.options.onOpen(r))}function m(){f(),k.toggleClass(R.classes.above,k.offset().top+k.outerHeight()+S>l.scrollTop()+l.height())}function g(e){if(!e&&I!=H){var t=R.items[H].text;B.prop("selectedIndex",I=H).data("value",t),R.options.onChange(r),O.html(t)}a.off(s),k.removeClass(R.classes.open),Y=!1,R.options.onClose(r)}function w(e,t){R.items[H=e].disabled||(y.removeClass("selected").eq(e).addClass("selected"),b(e),t&&g())}function b(e){var t=y.eq(e).outerHeight(),o=y[e].offsetTop,s=T.scrollTop(),i=o+2*t;T.scrollTop(i>s+S?i-S:s>o-t?o-t:s)}function x(e){$&&(T.add(D).add(C).remove(),!e&&B.removeData(t).removeData("value"),B.off(s).off(A).unwrap().unwrap(),$=!1)}var C,T,D,O,k,y,H,I,S,M,W,E,A,R=this,B=e(r),Y=!1,$=!1,j=/android|ip(hone|od|ad)/i.test(navigator.userAgent);p(c)};e.fn[t]=function(o){return this.each(function(){var s=e.data(this,t);s&&!s.disableOnMobile?""+o===o&&s[o]?s[o]():s.init(o):e.data(this,t,new r(this,o))})}}(jQuery);